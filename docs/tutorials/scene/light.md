# 智慧路灯实验

## 实验背景

随着城市经济和规模的发展，各种类型的道路越来越长，机动车数量迅速增加，夜间交通流量也越来越大，道路照明质量直接影响交通安全和城市发展。如何提高道路照明质量、降低能耗、实现绿色照明已成为城市照明的关键问题。道路照明的首要任务是在节约公共能源的基础上，提供安全和舒适的照明亮度，达到减少交通事故，提升交通运输效率的目的。由于基础设施的条件所限，目前普遍缺少路灯级的通信链路，路灯控制方式一般只能对整条道路统一控制，无法测量和控制到每一盏灯。

NB-IoT智能路灯可实现单灯精确控制和维护，并根据季节、天气、场景变化灵活设置路灯开/关/亮度，节省电耗10-20%；使用NB-IoT智能路灯方案后，路灯运营方无需人工巡检，可远程检测并定位故障，并结合路灯运行历史开展生命周期管理，降低运维成本达50%。

NB-IoT智能路灯利用运营商网络，路灯即插即用，并通过“一跳”的方式将数据传到路灯管理云平台。由于使用运营商的网络，省去了后期的维护成本，网络的覆盖质量和优化也由电信运营商负责。

本实验将以NB-IoT智能路灯为场景，带大家快速了解NB-IoT智能路灯的原型开发，实现环境光强度的采集，及路灯单灯控制

## 实验准备

名称	数量	备注
EVB_M1开发板	1	
光照强度传感器扩展板	1	
MDK(keil 5)软件	1	自行导入License
OceanConnect账号	1	可远程实验室申请
LiteOS开源代码	1	GitHub地址：xxxx
安卓手机	1	
手机APK	1	

## 熟悉LiteOS工程文件

## 创建LiteOS系统任务

## 移植传感器程序

## 编写传感器数据采集任务回调函数

## 编写数据发送任务回调函数

## 编写URC数据消息回调函数处理程序

## 编写初始化NB-IoT模块函数

## NB-IoT模块对接平台

## LiteOS调测

## 体验手机APP